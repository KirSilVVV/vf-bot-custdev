## Исправление бага подсчёта голосов

### Проблема
При голосовании за приоритетные идеи счётчик не менялся:
- 1 голос: 1↑ + 9 priority = 10
- 2 голоса: 2↑ + 8 priority = 10 (приоритет динамически пересчитывался!)

### Решение  
Добавлено поле `has_priority` для хранения ФИКСИРОВАННОГО приоритетного статуса.

### Миграция (выполни в Supabase)

1. Открой Supabase → SQL Editor
2. Выполни файл: `migration-priority-flag.sql`
3. Проверь: `SELECT id, vote_count, has_priority FROM requests;`

### Изменения в коде

1. **publishToChannel()** - устанавливает `has_priority: true` при публикации с приоритетом
2. **Голосование** - использует фиксированный бонус: `has_priority ? 10 : 0`
3. **Платеж** - устанавливает `has_priority: true` при оплате приоритета

### Формула подсчёта (НОВАЯ)
```
finalVoteCount = (upvotes - downvotes) + (has_priority ? 10 : 0)
```

✅ Теперь приоритетный бонус НЕ МЕНЯЕТСЯ при росте голосов!
